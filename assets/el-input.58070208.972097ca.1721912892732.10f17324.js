import{aa as Pe,S as Ke,q as Xe,r as ie,R as ze,ab as Ye,A as Ae,T as Ze,w as Ue,aU as qe,C as De,i as r,az as Qe,x as Ie,ac as ee,g as N,aV as Ge,aW as ea,aX as aa,a9 as ta,aM as oa,n as ae,Y as _,aJ as Ce,L as na,M as la,O as d,N as w,Z as c,I as re,X as f,P as a,Q as D,H as $,k as I,l as W,F as Q,_ as j,G as ue,e as sa,aY as ia,a as ra,a3 as ua,t as G,W as pa,ao as da,aA as ca,ay as pe,aC as Me,a5 as Ee,ae as Fe}from"./index.84a6fe3f.js";import{o as fa}from"./typescript.72bf8adc.34d94408.1721912892732.85022a64.js";import{z as va,h as ma,x as ga,y as ya}from"./use-form-item.668b1b5b.4dfa2e85.1721912892732.2646e192.js";import{o as ha}from"./index.27787cb1.fc55973a.1721912892732.869a2565.js";const de="update:modelValue",Na="change",Ra="input",xa=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l),ba=["class","style"],wa=/^on[A-Z]/;function Sa(l,{afterFocus:P,beforeBlur:p,afterBlur:t}={}){const g=Me(),{emit:y}=g,h=ee(),C=N(!1);return ae(h,i=>{i&&i.setAttribute("tabindex","-1")}),da(h,"click",()=>{var i;(i=l.value)==null||i.focus()}),{wrapperRef:h,isFocused:C,handleFocus:i=>{C.value||(C.value=!0,y("focus",i),P==null||P())},handleBlur:i=>{var S;ca(p)&&p(i)||i.relatedTarget&&((S=h.value)==null?void 0:S.contains(i.relatedTarget))||(C.value=!1,y("blur",i),t==null||t())}}}let x;const ka=`
  height:0 !important;
  visibility:hidden !important;
  ${Pe&&/firefox/i.test(window.navigator.userAgent)?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,za=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Be(l,P=1,p){var t;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:g,borderSize:y,boxSizing:h,contextStyle:C}=function(u){const k=window.getComputedStyle(u),te=k.getPropertyValue("box-sizing"),E=Number.parseFloat(k.getPropertyValue("padding-bottom"))+Number.parseFloat(k.getPropertyValue("padding-top")),n=Number.parseFloat(k.getPropertyValue("border-bottom-width"))+Number.parseFloat(k.getPropertyValue("border-top-width"));return{contextStyle:za.map(V=>`${V}:${k.getPropertyValue(V)}`).join(";"),paddingSize:E,borderSize:n,boxSizing:te}}(l);x.setAttribute("style",`${C};${ka}`),x.value=l.value||l.placeholder||"";let i=x.scrollHeight;const S={};h==="border-box"?i+=y:h==="content-box"&&(i-=g),x.value="";const R=x.scrollHeight-g;if(Fe(P)){let u=R*P;h==="border-box"&&(u=u+g+y),i=Math.max(u,i),S.minHeight=`${u}px`}if(Fe(p)){let u=R*p;h==="border-box"&&(u=u+g+y),i=Math.min(u,i)}return S.height=`${i}px`,(t=x.parentNode)==null||t.removeChild(x),x=void 0,S}const Ia=Ke({id:{type:String,default:void 0},size:Xe,disabled:Boolean,modelValue:{type:ie([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ie([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ie([Object,Array,String]),default:()=>fa({})},autofocus:{type:Boolean,default:!1},...Ye(["ariaLabel"])}),Ca={[de]:l=>pe(l),input:l=>pe(l),change:l=>pe(l),focus:l=>l instanceof FocusEvent,blur:l=>l instanceof FocusEvent,clear:()=>!0,mouseleave:l=>l instanceof MouseEvent,mouseenter:l=>l instanceof MouseEvent,keydown:l=>l instanceof Event,compositionstart:l=>l instanceof CompositionEvent,compositionupdate:l=>l instanceof CompositionEvent,compositionend:l=>l instanceof CompositionEvent},Ea=["role"],Fa=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Ba=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Pa=Ae({name:"ElInput",inheritAttrs:!1}),Va=Ze(Ue(Ae({...Pa,props:Ia,emits:Ca,setup(l,{expose:P,emit:p}){const t=l,g=qe(),y=De(),h=r(()=>{const e={};return t.containerRole==="combobox"&&(e["aria-haspopup"]=g["aria-haspopup"],e["aria-owns"]=g["aria-owns"],e["aria-expanded"]=g["aria-expanded"]),e}),C=r(()=>[t.type==="textarea"?V.b():n.b(),n.m(te.value),n.is("disabled",E.value),n.is("exceed",Re.value),{[n.b("group")]:y.prepend||y.append,[n.m("prefix")]:y.prefix||t.prefixIcon,[n.m("suffix")]:y.suffix||t.suffixIcon||t.clearable||t.showPassword,[n.bm("suffix","password-clear")]:q.value&&ne.value,[n.b("hidden")]:t.type==="hidden"},g.class]),i=r(()=>[n.e("wrapper"),n.is("focus",Y.value)]),S=((e={})=>{const{excludeListeners:o=!1,excludeKeys:s}=e,v=r(()=>((s==null?void 0:s.value)||[]).concat(ba)),m=Me();return r(m?()=>{var B;return Qe(Object.entries((B=m.proxy)==null?void 0:B.$attrs).filter(([b])=>!(v.value.includes(b)||o&&wa.test(b))))}:()=>({}))})({excludeKeys:r(()=>Object.keys(h.value))}),{form:R,formItem:u}=va(),{inputId:k}=ma(t,{formItemContext:u}),te=ga(),E=ya(),n=Ie("input"),V=Ie("textarea"),J=ee(),z=ee(),oe=N(!1),L=N(!1),K=N(!1),ce=N(),X=ee(t.inputStyle),A=r(()=>J.value||z.value),{wrapperRef:_e,isFocused:Y,handleFocus:Z,handleBlur:U}=Sa(A,{afterBlur(){var e;t.validateEvent&&((e=u==null?void 0:u.validate)==null||e.call(u,"blur").catch(o=>Ce()))}}),fe=r(()=>{var e;return(e=R==null?void 0:R.statusIcon)!=null&&e}),O=r(()=>(u==null?void 0:u.validateState)||""),ve=r(()=>O.value&&Ge[O.value]),$e=r(()=>K.value?ea:aa),Ne=r(()=>[g.style]),me=r(()=>[t.inputStyle,X.value,{resize:t.resize}]),F=r(()=>ta(t.modelValue)?"":String(t.modelValue)),q=r(()=>t.clearable&&!E.value&&!t.readonly&&!!F.value&&(Y.value||oe.value)),ne=r(()=>t.showPassword&&!E.value&&!t.readonly&&!!F.value&&(!!F.value||Y.value)),M=r(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!E.value&&!t.readonly&&!t.showPassword),le=r(()=>F.value.length),Re=r(()=>!!M.value&&le.value>Number(t.maxlength)),Ve=r(()=>!!y.suffix||!!t.suffixIcon||q.value||t.showPassword||M.value||!!O.value&&fe.value),[Le,Oe]=function(e){const o=N();return[function(){if(e.value==null)return;const{selectionStart:s,selectionEnd:v,value:m}=e.value;if(s==null||v==null)return;const B=m.slice(0,Math.max(0,s)),b=m.slice(Math.max(0,v));o.value={selectionStart:s,selectionEnd:v,value:m,beforeTxt:B,afterTxt:b}},function(){if(e.value==null||o.value==null)return;const{value:s}=e.value,{beforeTxt:v,afterTxt:m,selectionStart:B}=o.value;if(v==null||m==null||B==null)return;let b=s.length;if(s.endsWith(m))b=s.length-m.length;else if(s.startsWith(v))b=v.length;else{const Je=v[B-1],ke=s.indexOf(Je,B-1);ke!==-1&&(b=ke+1)}e.value.setSelectionRange(b,b)}]}(J);oa(z,e=>{if(Te(),!M.value||t.resize!=="both")return;const o=e[0],{width:s}=o.contentRect;ce.value={right:`calc(100% - ${s+15+6}px)`}});const T=()=>{const{type:e,autosize:o}=t;if(Pe&&e==="textarea"&&z.value)if(o){const s=Ee(o)?o.minRows:void 0,v=Ee(o)?o.maxRows:void 0,m=Be(z.value,s,v);X.value={overflowY:"hidden",...m},_(()=>{z.value.offsetHeight,X.value=m})}else X.value={minHeight:Be(z.value).minHeight}},Te=(e=>{let o=!1;return()=>{var s;!o&&t.autosize&&(((s=z.value)==null?void 0:s.offsetParent)===null||(e(),o=!0))}})(T),H=()=>{const e=A.value,o=t.formatter?t.formatter(F.value):F.value;e&&e.value!==o&&(e.value=o)},se=async e=>{Le();let{value:o}=e.target;t.formatter&&(o=t.parser?t.parser(o):o),L.value||(o!==F.value?(p(de,o),p("input",o),await _(),H(),Oe()):H())},ge=e=>{p("change",e.target.value)},ye=e=>{p("compositionstart",e),L.value=!0},he=e=>{var o;p("compositionupdate",e);const s=(o=e.target)==null?void 0:o.value,v=s[s.length-1]||"";L.value=!xa(v)},xe=e=>{p("compositionend",e),L.value&&(L.value=!1,se(e))},He=()=>{K.value=!K.value,be()},be=async()=>{var e;await _(),(e=A.value)==null||e.focus()},We=e=>{oe.value=!1,p("mouseleave",e)},je=e=>{oe.value=!0,p("mouseenter",e)},we=e=>{p("keydown",e)},Se=()=>{p(de,""),p("change",""),p("clear"),p("input","")};return ae(()=>t.modelValue,()=>{var e;_(()=>T()),t.validateEvent&&((e=u==null?void 0:u.validate)==null||e.call(u,"change").catch(o=>Ce()))}),ae(F,()=>H()),ae(()=>t.type,async()=>{await _(),H(),T()}),na(()=>{!t.formatter&&t.parser,H(),_(T)}),ha({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},r(()=>!!t.label)),P({input:J,textarea:z,ref:A,textareaStyle:me,autosize:la(t,"autosize"),focus:be,blur:()=>{var e;return(e=A.value)==null?void 0:e.blur()},select:()=>{var e;(e=A.value)==null||e.select()},clear:Se,resizeTextarea:T}),(e,o)=>(d(),w("div",ue(a(h),{class:[a(C),{[a(n).bm("group","append")]:e.$slots.append,[a(n).bm("group","prepend")]:e.$slots.prepend}],style:a(Ne),role:e.containerRole,onMouseenter:je,onMouseleave:We}),[c(" input "),e.type!=="textarea"?(d(),w(re,{key:0},[c(" prepend slot "),e.$slots.prepend?(d(),w("div",{key:0,class:f(a(n).be("group","prepend"))},[D(e.$slots,"prepend")],2)):c("v-if",!0),$("div",{ref_key:"wrapperRef",ref:_e,class:f(a(i))},[c(" prefix slot "),e.$slots.prefix||e.prefixIcon?(d(),w("span",{key:0,class:f(a(n).e("prefix"))},[$("span",{class:f(a(n).e("prefix-inner"))},[D(e.$slots,"prefix"),e.prefixIcon?(d(),I(a(j),{key:0,class:f(a(n).e("icon"))},{default:W(()=>[(d(),I(Q(e.prefixIcon)))]),_:1},8,["class"])):c("v-if",!0)],2)],2)):c("v-if",!0),$("input",ue({id:a(k),ref_key:"input",ref:J,class:a(n).e("inner")},a(S),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?K.value?"text":"password":e.type,disabled:a(E),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:he,onCompositionend:xe,onInput:se,onFocus:o[0]||(o[0]=(...s)=>a(Z)&&a(Z)(...s)),onBlur:o[1]||(o[1]=(...s)=>a(U)&&a(U)(...s)),onChange:ge,onKeydown:we}),null,16,Fa),c(" suffix slot "),a(Ve)?(d(),w("span",{key:1,class:f(a(n).e("suffix"))},[$("span",{class:f(a(n).e("suffix-inner"))},[a(q)&&a(ne)&&a(M)?c("v-if",!0):(d(),w(re,{key:0},[D(e.$slots,"suffix"),e.suffixIcon?(d(),I(a(j),{key:0,class:f(a(n).e("icon"))},{default:W(()=>[(d(),I(Q(e.suffixIcon)))]),_:1},8,["class"])):c("v-if",!0)],64)),a(q)?(d(),I(a(j),{key:1,class:f([a(n).e("icon"),a(n).e("clear")]),onMousedown:ra(a(ua),["prevent"]),onClick:Se},{default:W(()=>[sa(a(ia))]),_:1},8,["class","onMousedown"])):c("v-if",!0),a(ne)?(d(),I(a(j),{key:2,class:f([a(n).e("icon"),a(n).e("password")]),onClick:He},{default:W(()=>[(d(),I(Q(a($e))))]),_:1},8,["class"])):c("v-if",!0),a(M)?(d(),w("span",{key:3,class:f(a(n).e("count"))},[$("span",{class:f(a(n).e("count-inner"))},G(a(le))+" / "+G(e.maxlength),3)],2)):c("v-if",!0),a(O)&&a(ve)&&a(fe)?(d(),I(a(j),{key:4,class:f([a(n).e("icon"),a(n).e("validateIcon"),a(n).is("loading",a(O)==="validating")])},{default:W(()=>[(d(),I(Q(a(ve))))]),_:1},8,["class"])):c("v-if",!0)],2)],2)):c("v-if",!0)],2),c(" append slot "),e.$slots.append?(d(),w("div",{key:1,class:f(a(n).be("group","append"))},[D(e.$slots,"append")],2)):c("v-if",!0)],64)):(d(),w(re,{key:1},[c(" textarea "),$("textarea",ue({id:a(k),ref_key:"textarea",ref:z,class:[a(V).e("inner"),a(n).is("focus",a(Y))]},a(S),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:a(E),readonly:e.readonly,autocomplete:e.autocomplete,style:a(me),"aria-label":e.label||e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:ye,onCompositionupdate:he,onCompositionend:xe,onInput:se,onFocus:o[2]||(o[2]=(...s)=>a(Z)&&a(Z)(...s)),onBlur:o[3]||(o[3]=(...s)=>a(U)&&a(U)(...s)),onChange:ge,onKeydown:we}),null,16,Ba),a(M)?(d(),w("span",{key:0,style:pa(ce.value),class:f(a(n).e("count"))},G(a(le))+" / "+G(e.maxlength),7)):c("v-if",!0)],64))],16,Ea))}}),[["__file","input.vue"]]));export{Va as h,de as l,Na as n,Ra as o,xa as s,Sa as u};
